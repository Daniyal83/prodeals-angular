{"ast":null,"code":"import { trigger, transition, animate, style } from '@angular/animations';\nimport { Router } from \"@angular/router\";\nimport { Store } from '@ngrx/store';\nimport * as ProductStore from 'app/store';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"ng-click-outside\";\nfunction MobileComponent_ul_3_div_3_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 10);\n    i0.ɵɵlistener(\"click\", function MobileComponent_ul_3_div_3_li_2_Template_li_click_0_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r6);\n      var cat_r4 = restoredCtx.$implicit;\n      var ctx_r5 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r5.setCategoryFilter(cat_r4));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var cat_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(cat_r4.rusName);\n  }\n}\nfunction MobileComponent_ul_3_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"ul\", 8);\n    i0.ɵɵtemplate(2, MobileComponent_ul_3_div_3_li_2_Template, 2, 1, \"li\", 9);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"@dropInOut\", undefined);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.categories);\n  }\n}\nfunction MobileComponent_ul_3_div_6_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 10);\n    i0.ɵɵlistener(\"click\", function MobileComponent_ul_3_div_6_li_2_Template_li_click_0_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r10);\n      var brand_r8 = restoredCtx.$implicit;\n      var ctx_r9 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r9.setBrandFilter(brand_r8.name));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var brand_r8 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(brand_r8.name);\n  }\n}\nfunction MobileComponent_ul_3_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"ul\", 8);\n    i0.ɵɵtemplate(2, MobileComponent_ul_3_div_6_li_2_Template, 2, 1, \"li\", 9);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"@dropInOut\", undefined);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.brands);\n  }\n}\nvar _c0 = function (a1) {\n  return {\n    \"list__item\": true,\n    \"bordered-top\": a1\n  };\n};\nfunction MobileComponent_ul_3_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ul\", 3)(1, \"li\", 4);\n    i0.ɵɵlistener(\"click\", function MobileComponent_ul_3_Template_li_click_1_listener() {\n      i0.ɵɵrestoreView(_r12);\n      var ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.toggleCategores());\n    });\n    i0.ɵɵtext(2, \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, MobileComponent_ul_3_div_3_Template, 3, 2, \"div\", 5);\n    i0.ɵɵelementStart(4, \"li\", 6);\n    i0.ɵɵlistener(\"click\", function MobileComponent_ul_3_Template_li_click_4_listener() {\n      i0.ɵɵrestoreView(_r12);\n      var ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.toggleBrands());\n    });\n    i0.ɵɵtext(5, \"\\u0411\\u0440\\u044D\\u043D\\u0434\\u044B\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, MobileComponent_ul_3_div_6_Template, 3, 2, \"div\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"@slideInOut\", undefined);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isCategories);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c0, ctx_r0.isCategories));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isBrands);\n  }\n}\nvar MobileComponent = /** @class */function () {\n  function MobileComponent(store, router) {\n    this.store = store;\n    this.router = router;\n    this.isFiltersOpened = false;\n    this.isCategories = false;\n    this.isBrands = false;\n    this.categories = [{\n      id: 0,\n      name: \"All\",\n      rusName: 'Все'\n    }, {\n      id: 1,\n      name: \"Phones\",\n      rusName: 'Смартфоны'\n    }, {\n      id: 2,\n      name: \"Headphones\",\n      rusName: 'Наушники'\n    }, {\n      id: 3,\n      name: \"Cases\",\n      rusName: 'Чехлы'\n    }, {\n      id: 4,\n      name: \"TV-boxes\",\n      rusName: 'ТВ-приставки'\n    }, {\n      id: 5,\n      name: \"Projectors\",\n      rusName: 'Проекторы'\n    }, {\n      id: 5,\n      name: \"Watches\",\n      rusName: 'Часы'\n    }];\n    this.brands = [{\n      id: 0,\n      name: \"Все\"\n    }, {\n      id: 1,\n      name: \"Xiaomi\"\n    }, {\n      id: 2,\n      name: \"Meizu\"\n    }, {\n      id: 3,\n      name: \"Lenovo\"\n    }, {\n      id: 4,\n      name: \"OnePlus\"\n    }, {\n      id: 5,\n      name: \"Huawei\"\n    }, {\n      id: 6,\n      name: \"Honor\"\n    }, {\n      id: 7,\n      name: \"Asus\"\n    }, {\n      id: 8,\n      name: \"LeEco\"\n    }];\n  }\n  MobileComponent.prototype.toggleFilters = function () {\n    this.isFiltersOpened = !this.isFiltersOpened;\n    if (!this.isFiltersOpened) {\n      this.isCategories = false;\n      this.isBrands = false;\n    }\n  };\n  MobileComponent.prototype.toggleCategores = function () {\n    this.isBrands = false;\n    this.isCategories = !this.isCategories;\n  };\n  MobileComponent.prototype.toggleBrands = function () {\n    this.isCategories = false;\n    this.isBrands = !this.isBrands;\n  };\n  MobileComponent.prototype.clickedOutside = function () {\n    this.isFiltersOpened = false;\n    this.isCategories = false;\n    this.isBrands = false;\n  };\n  MobileComponent.prototype.setCategoryFilter = function (category) {\n    this.store.dispatch(new ProductStore.SetBrandFilter(\"\"));\n    this.store.dispatch(new ProductStore.SetCategoryFilter(category.rusName));\n    this.clickedOutside();\n    if (category.rusName !== 'Все') {\n      return this.router.navigate([\"/main/filtered/\".concat(category.name)]);\n    }\n    this.router.navigate(['/main']);\n    this.store.dispatch(new ProductStore.SetPage(1));\n  };\n  MobileComponent.prototype.setBrandFilter = function (name) {\n    this.store.dispatch(new ProductStore.SetCategoryFilter(\"\"));\n    this.store.dispatch(new ProductStore.SetBrandFilter(name));\n    this.clickedOutside();\n    if (name !== 'Все') {\n      return this.router.navigate([\"/main/filtered/\".concat(name)]);\n    }\n    this.router.navigate(['/main']);\n    this.store.dispatch(new ProductStore.SetPage(1));\n  };\n  MobileComponent.prototype.ngOnInit = function () {};\n  MobileComponent.ɵfac = function MobileComponent_Factory(t) {\n    return new (t || MobileComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  MobileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MobileComponent,\n    selectors: [[\"app-mobile\"]],\n    decls: 4,\n    vars: 1,\n    consts: [[1, \"mobile-filters\", 3, \"clickOutside\"], [1, \"mobile-filters__button\", 3, \"click\"], [\"class\", \"list\", 4, \"ngIf\"], [1, \"list\"], [1, \"list__item\", 3, \"click\"], [\"class\", \"submenu\", 4, \"ngIf\"], [3, \"ngClass\", \"click\"], [1, \"submenu\"], [1, \"submenu__list\"], [\"class\", \"submenu__item\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"submenu__item\", 3, \"click\"]],\n    template: function MobileComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵlistener(\"clickOutside\", function MobileComponent_Template_div_clickOutside_0_listener() {\n          return ctx.clickedOutside();\n        });\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵlistener(\"click\", function MobileComponent_Template_div_click_1_listener() {\n          return ctx.toggleFilters();\n        });\n        i0.ɵɵtext(2, \"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440\\u044B\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, MobileComponent_ul_3_Template, 7, 6, \"ul\", 2);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.isFiltersOpened);\n      }\n    },\n    dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i4.ClickOutsideDirective],\n    styles: [\".mobile-filters[_ngcontent-%COMP%]{width:160px;display:none;position:absolute;right:0;height:38px;color:#fff;box-sizing:border-box;margin:6px 5px}.mobile-filters__button[_ngcontent-%COMP%]{border:1px solid white;border-radius:8px;padding:3px 0;text-align:center}.list[_ngcontent-%COMP%]{background-color:#595b5e;position:absolute;flex-direction:column;align-items:center;width:170px;top:30px;right:-5px;z-index:10}.list__item[_ngcontent-%COMP%]{border-bottom:1px dotted #FFF;border-right:none;padding:10px;color:#fff}.list__item[_ngcontent-%COMP%]:focus{outline:0}.list__item[_ngcontent-%COMP%]:last-child{border-bottom:none}.list[_ngcontent-%COMP%]   .bordered-top[_ngcontent-%COMP%]{border-top:1px dotted #FFF}.submenu[_ngcontent-%COMP%]{background-color:#595b5e;transition:all .2s}.submenu__list[_ngcontent-%COMP%]{box-sizing:border-box;padding-left:10px}.submenu__item[_ngcontent-%COMP%]{padding:10px;box-sizing:border-box;font-size:12px}.submenu__item[_ngcontent-%COMP%]:before{width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-top:10px solid #fff}.submenu__item[_ngcontent-%COMP%]:after{content:\\\"-\\\";position:absolute;left:10px}@media (max-width: 670px){.mobile-filters[_ngcontent-%COMP%]{display:block}}\"],\n    data: {\n      animation: [trigger('slideInOut', [transition(':enter', [style({\n        transform: 'translateX(100%)'\n      }), animate('100ms ease-in', style({\n        transform: 'translateX(0%)'\n      }))]), transition(':leave', [animate('100ms ease-in', style({\n        transform: 'translateX(100%)'\n      }))])]), trigger('dropInOut', [transition(':enter', [style({\n        'max-height': 0,\n        opacity: 0\n      }), animate('200ms ease-in', style({\n        'max-height': '400px'\n      }))]), transition(':leave', [animate('150ms ease-in', style({\n        opacity: 0,\n        'max-height': 0\n      }))])])]\n    }\n  });\n  return MobileComponent;\n}();\nexport { MobileComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}