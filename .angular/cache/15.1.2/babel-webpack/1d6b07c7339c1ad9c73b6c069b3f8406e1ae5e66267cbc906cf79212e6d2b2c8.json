{"ast":null,"code":"import { __assign, __spreadArray } from \"tslib\";\nimport * as ProductActions from '../actions/product.actions';\nimport { allProducts } from '../../all-products/products';\nexport var initialState = {\n  products: allProducts,\n  searchResult: [],\n  brandFilter: '',\n  categoryFilter: '',\n  chosenProduct: null,\n  page: 1\n};\nexport function reducer(state, action) {\n  if (state === void 0) {\n    state = initialState;\n  }\n  switch (action.type) {\n    case ProductActions.ADD_PRODUCT:\n      return __assign(__assign({}, state), {\n        products: __spreadArray(__spreadArray([], state.products, true), [action.payload], false)\n      });\n    case ProductActions.SEARCH_PRODUCT:\n      var searchValue_1 = action.payload.toLowerCase();\n      var searchResult = state.products.filter(function (item) {\n        return item.title.toLowerCase().indexOf(searchValue_1) !== -1 || item.brand.indexOf(searchValue_1) !== -1;\n      });\n      return __assign(__assign({}, state), {\n        searchResult: searchResult\n      });\n    case ProductActions.SET_BRANDFILTER:\n      var filter_b = action.payload.toLowerCase();\n      var brandFilter = filter_b !== 'все' ? filter_b : '';\n      return __assign(__assign({}, state), {\n        brandFilter: brandFilter\n      });\n    case ProductActions.SET_CATEGORYFILTER:\n      var filter_c = action.payload.toLowerCase();\n      var categoryFilter = filter_c !== 'все' ? filter_c : '';\n      return __assign(__assign({}, state), {\n        categoryFilter: categoryFilter\n      });\n    case ProductActions.SET_PRODUCT_DETAILS:\n      return __assign(__assign({}, state), {\n        chosenProduct: action.payload\n      });\n    case ProductActions.SET_PAGE:\n      return __assign(__assign({}, state), {\n        page: action.payload\n      });\n    default:\n      return state;\n  }\n}\nexport var getProducts = function (state) {\n  return state.products;\n};\nexport var getSearchResult = function (state) {\n  return state.searchResult;\n};\nexport var getBrandFilter = function (state) {\n  return state.brandFilter;\n};\nexport var getCategoryFilter = function (state) {\n  return state.categoryFilter;\n};\nexport var getChosenProduct = function (state) {\n  return state.chosenProduct;\n};\nexport var getCurrentPage = function (state) {\n  return state.page;\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}