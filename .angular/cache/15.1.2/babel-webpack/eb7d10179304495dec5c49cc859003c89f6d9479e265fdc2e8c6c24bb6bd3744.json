{"ast":null,"code":"import { ProductService } from '../../services/product.service';\nimport { Store } from '@ngrx/store';\nimport { ActivatedRoute } from '@angular/router';\nimport { Renderer2 } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport * as ProductStore from 'app/store';\nimport { getProductStateChosenProduct } from 'app/store';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../services/product.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../title/title.component\";\nimport * as i6 from \"../buttons/button/button.component\";\nimport * as i7 from \"../product-features/phone-features/phone-features.component\";\nimport * as i8 from \"../product-features/projector/projector.component\";\nfunction ProductDetailsComponent_ng_container_0_app_phone_features_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-phone-features\", 11);\n  }\n  if (rf & 2) {\n    var product_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵproperty(\"phone\", product_r1);\n  }\n}\nfunction ProductDetailsComponent_ng_container_0_app_projector_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-projector\", 12);\n  }\n  if (rf & 2) {\n    var product_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵproperty(\"projector\", product_r1);\n  }\n}\nfunction ProductDetailsComponent_ng_container_0_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\u0426\\u0435\\u043D\\u0430 \\u0443\\u043A\\u0430\\u0437\\u0430\\u043D\\u0430 \\u0441 \\u0443\\u0447\\u0451\\u0442\\u043E\\u043C \\u043D\\u0430\\u0448\\u0435\\u0439 \\u0441\\u043A\\u0438\\u0434\\u043A\\u0438. \\u041A\\u0430\\u043A \\u0435\\u0451 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0438\\u0442\\u044C => \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductDetailsComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵelement(2, \"app-title\", 2)(3, \"img\", 3);\n    i0.ɵɵelementStart(4, \"app-button\", 4);\n    i0.ɵɵlistener(\"clicked\", function ProductDetailsComponent_ng_container_0_Template_app_button_clicked_4_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r8);\n      var product_r1 = restoredCtx.ngIf;\n      var ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.goToStore(product_r1.href));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 5);\n    i0.ɵɵtemplate(6, ProductDetailsComponent_ng_container_0_app_phone_features_6_Template, 1, 1, \"app-phone-features\", 6);\n    i0.ɵɵtemplate(7, ProductDetailsComponent_ng_container_0_app_projector_7_Template, 1, 1, \"app-projector\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 8);\n    i0.ɵɵtemplate(9, ProductDetailsComponent_ng_container_0_span_9_Template, 2, 0, \"span\", 0);\n    i0.ɵɵtext(10, \" \\u0427\\u0438\\u0442\\u0430\\u0439\\u0442\\u0435 \");\n    i0.ɵɵelementStart(11, \"a\", 9);\n    i0.ɵɵtext(12, \"\\u0438\\u043D\\u0441\\u0442\\u0440\\u0443\\u043A\\u0446\\u0438\\u044E\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \". \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(14, \"div\", 10);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    var product_r1 = ctx.ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"title\", product_r1.title);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", product_r1.photo, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", product_r1.category === \"phones\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", product_r1.category === \"projectors\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", product_r1.isDiscount);\n  }\n}\nvar ProductDetailsComponent = /** @class */function () {\n  function ProductDetailsComponent(store, route, productService, renderer2, _document) {\n    this.store = store;\n    this.route = route;\n    this.productService = productService;\n    this.renderer2 = renderer2;\n    this._document = _document;\n    this.products = [];\n    this.$product = store.select(getProductStateChosenProduct);\n  }\n  ProductDetailsComponent.prototype.goToStore = function (href) {\n    window.open(href, '_blank');\n  };\n  ProductDetailsComponent.prototype.ngOnInit = function () {\n    var _this = this;\n    var title = this.route.snapshot.paramMap.get(\"title\");\n    var productByTitle = this.productService.getProductByTitle(title);\n    this.$product.subscribe(function (res) {\n      if (!res) {\n        _this.store.dispatch(new ProductStore.SetProductDetails(productByTitle));\n      }\n    });\n    var d = this._document.body || this._document.head;\n    var s = this.renderer2.createElement('script');\n    s.type = 'text/javascript';\n    s.src = 'https://kupimvmeste.disqus.com/embed.js';\n    s.setAttribute('data-timestamp', +new Date());\n    if (d) this.renderer2.appendChild(d, s);\n  };\n  ProductDetailsComponent.ɵfac = function ProductDetailsComponent_Factory(t) {\n    return new (t || ProductDetailsComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.ProductService), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(DOCUMENT));\n  };\n  ProductDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductDetailsComponent,\n    selectors: [[\"app-product-details\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [1, \"details\"], [3, \"title\"], [\"alt\", \"product.title\", 1, \"details__photo\", 3, \"src\"], [\"buttonValue\", \"\\u0412 \\u043C\\u0430\\u0433\\u0430\\u0437\\u0438\\u043D =>\", 1, \"details__button\", 3, \"clicked\"], [1, \"details__info\"], [3, \"phone\", 4, \"ngIf\"], [3, \"projector\", 4, \"ngIf\"], [1, \"details__message\"], [\"routerLink\", \"/instructions\", 1, \"details__link\"], [\"id\", \"disqus_thread\"], [3, \"phone\"], [3, \"projector\"]],\n    template: function ProductDetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ProductDetailsComponent_ng_container_0_Template, 15, 5, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.$product));\n      }\n    },\n    dependencies: [i4.NgIf, i2.RouterLink, i5.TitleComponent, i6.ButtonComponent, i7.PhoneFeaturesComponent, i8.ProjectorComponent, i4.AsyncPipe],\n    styles: [\".details[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.details__title[_ngcontent-%COMP%]{align-self:center}.details__photo[_ngcontent-%COMP%]{max-width:135px;margin-top:40px;align-self:center}.details__info[_ngcontent-%COMP%]{margin:30px 0;background:#F0F4F5;padding:10px 5px;box-sizing:border-box;border-radius:5px;box-shadow:0 0 10px #dfdfdf}.details__item[_ngcontent-%COMP%]{margin-bottom:10px}.details__message[_ngcontent-%COMP%]{color:#525252;margin-bottom:20px}.details__link[_ngcontent-%COMP%]{color:#064e5a;font-weight:700}.details__button[_ngcontent-%COMP%]{margin-top:10px;text-align:center}#disqus_thread[_ngcontent-%COMP%]{margin-top:20px}\"]\n  });\n  return ProductDetailsComponent;\n}();\nexport { ProductDetailsComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}